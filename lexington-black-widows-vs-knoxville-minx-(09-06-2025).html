<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lexington Black Widows vs Knoxville Minx (09-06-2025) Photo Gallery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Custom styles for smooth transitions and font */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
        }
        .gallery-image {
            transition: transform 0.2s ease-in-out;
        }
        .gallery-image:hover {
            transform: scale(1.05);
            cursor: pointer;
        }
        .modal {
            background-color: rgba(0, 0, 0, 0.9);
            transition: opacity 0.3s ease-in-out;
        }
        .modal-content {
            max-height: 90vh; /* Limit height to prevent overflow on smaller screens */
            max-width: 90vw; /* Limit width to prevent overflow on smaller screens */
            object-fit: contain; /* Ensure image fits within bounds */
            cursor: pointer; /* Indicate that the modal image is clickable */
        }
        /* Spinner animation */
        .spinner {
            border: 8px solid rgba(255, 255, 255, 0.3);
            border-top: 8px solid #ffffff;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            z-index: 50; /* Spinner slightly above image, below close button */
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* Active button styling */
        .nav-button.active {
            background-color: #4a5568; /* Darker gray for active button */
            color: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center py-8">

    <header class="w-full max-w-7xl flex justify-between items-center mb-12 p-4 bg-gray-900 rounded-xl shadow-lg">
        <h1 id="mainTitle" class="text-3xl sm:text-4xl font-extrabold text-red-600">Lexington Black Widows vs Knoxville Minx (09-06-2025) Gallery</h1>
        <nav class="flex space-x-4">
            <a href="index.html" class="flex items-center space-x-2 px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-800 transition duration-300 transform hover:scale-105">
                <i class="fas fa-home"></i>
                <span class="hidden sm:inline">Home</span>
            </a>
            </nav>
    </header>

    <nav class="mb-10 p-4 bg-white rounded-xl shadow-xl flex flex-wrap justify-center gap-4">
        <button class="nav-button bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg transition duration-300 ease-in-out transform hover:-translate-y-1" data-gallery="Game 1">Game 1 Photos</button>
        <button class="nav-button bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-lg transition duration-300 ease-in-out transform hover:-translate-y-1" data-gallery="Game 2">Game 2 Photos</button>
        <button class="nav-button bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-6 rounded-lg transition duration-300 ease-in-out transform hover:-translate-y-1" data-gallery="Game 3">Game 3 Photos</button>
        <button class="nav-button bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-6 rounded-lg transition duration-300 ease-in-out transform hover:-translate-y-1" data-gallery="Team">Team Photos</button>
        <button class="nav-button bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-6 rounded-lg transition duration-300 ease-in-out transform hover:-translate-y-1" data-gallery="Warm ups">Warm ups Photos</button>
    </nav>

    <div id="gallery" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-6 max-w-7xl mx-auto bg-white rounded-xl shadow-2xl">
        </div>

    <div id="imageModal" class="fixed inset-0 flex items-center justify-center z-50 hidden modal opacity-0">
        <div class="relative flex flex-col items-center justify-center w-full h-full">
            <button id="closeModal" class="absolute top-4 right-4 text-white text-4xl p-2 rounded-full bg-gray-700 bg-opacity-50 hover:bg-opacity-75 focus:outline-none z-55" aria-label="Close image modal">
                <i class="fas fa-times"></i>
            </button>

            <div id="loadingSpinner" class="spinner absolute z-50 hidden"></div>

            <img id="modalImage" src="" alt="Gallery Image" class="modal-content rounded-lg shadow-lg">

            <div id="clickToSourceText" class="absolute bottom-8 text-white text-lg bg-black bg-opacity-50 px-4 py-2 rounded-lg hidden transition-opacity duration-300 opacity-0">
                Click image to view host page
            </div>
        </div>
    </div>

    <script>
        // Data structure containing all sub-galleries
        const galleries = {
            "Game 1": [
                'https://i.postimg.cc/cJfprQLn/DSC-2536.jpg',
                'https://i.postimg.cc/pdNNW0Rv/DSC-2537.jpg',
                'https://i.postimg.cc/0yKRqggZ/DSC-2538.jpg',
                'https://i.postimg.cc/yYb451Gk/DSC-2539.jpg',
                'https://i.postimg.cc/4d5j1st4/DSC-2540.jpg',
                'https://i.postimg.cc/V613MdJH/DSC-2541.jpg',
                'https://i.postimg.cc/J0zv6vcN/DSC-2542.jpg',
                'https://i.postimg.cc/mZm0zZB8/DSC-2543.jpg',
                'https://i.postimg.cc/GtgNZKqZ/DSC-2544.jpg',
                'https://i.postimg.cc/Fs1wjtKm/DSC-2545.jpg',
                'https://i.postimg.cc/7Ycd9BCz/DSC-2549.jpg',
                'https://i.postimg.cc/VkCTVjMV/DSC-2550.jpg',
                'https://i.postimg.cc/1z0d9sv0/DSC-2553.jpg',
                'https://i.postimg.cc/0N13Rb02/DSC-2555.jpg',
                'https://i.postimg.cc/zBJcv6Qs/DSC-2557.jpg',
                'https://i.postimg.cc/85tn6wQj/DSC-2558.jpg',
                'https://i.postimg.cc/kGGYF8qw/DSC-2559.jpg',
                'https://i.postimg.cc/kGH1j45C/DSC-2561.jpg',
                'https://i.postimg.cc/v82N8PtK/DSC-2562.jpg',
                'https://i.postimg.cc/nLxdSNnX/DSC-2563.jpg',
                'https://i.postimg.cc/8zMKHTg8/DSC-2565.jpg',
                'https://i.postimg.cc/yYwpck5X/DSC-2566.jpg',
                'https://i.postimg.cc/X7ZDrw2Y/DSC-2568.jpg',
                'https://i.postimg.cc/ZqLwGjqV/DSC-2569.jpg',
                'https://i.postimg.cc/k4XTq869/DSC-2575.jpg',
                'https://i.postimg.cc/HxZBxxXM/DSC-2576.jpg',
                'https://i.postimg.cc/RZ5Gq26g/DSC-2577.jpg',
                'https://i.postimg.cc/J7FpCs1V/DSC-2578.jpg',
                'https://i.postimg.cc/jdJZxR5W/DSC-2579.jpg',
                'https://i.postimg.cc/1XbBGjW5/DSC-2580.jpg',
                'https://i.postimg.cc/nLT1RzdW/DSC-2581.jpg',
                'https://i.postimg.cc/RFDLmYxQ/DSC-2582.jpg',
                'https://i.postimg.cc/mrTwyMSM/DSC-2583.jpg',
                'https://i.postimg.cc/XJJkTbmY/DSC-2584.jpg',
                'https://i.postimg.cc/2yLFSxzp/DSC-2585.jpg',
                'https://i.postimg.cc/dQhzCP3F/DSC-2586.jpg',
                'https://i.postimg.cc/4nCv7hdY/DSC-2588.jpg',
                'https://i.postimg.cc/dQggmHZy/DSC-2589.jpg',
                'https://i.postimg.cc/pX840fK1/DSC-2590.jpg',
                'https://i.postimg.cc/cJ1z4P2V/DSC-2591.jpg',
                'https://i.postimg.cc/x127BXRj/DSC-2592.jpg',
                'https://i.postimg.cc/SsJtcCyd/DSC-2593.jpg',
                'https://i.postimg.cc/CKvQZmVd/DSC-2594.jpg',
                'https://i.postimg.cc/prjG6v5n/DSC-2596.jpg',
                'https://i.postimg.cc/xjN4CvpT/DSC-2598.jpg',
                'https://i.postimg.cc/0yPWcLkb/DSC-2599.jpg',
                'https://i.postimg.cc/SNW1LypB/DSC-2600.jpg',
                'https://i.postimg.cc/3JMbDkzj/DSC-2602.jpg',
                'https://i.postimg.cc/13BWTJXM/DSC-2603.jpg',
                'https://i.postimg.cc/rpphLxtT/DSC-2604.jpg',
                'https://i.postimg.cc/N0PdGF1H/DSC-2605.jpg',
                'https://i.postimg.cc/yx0jTT2m/DSC-2606.jpg',
                'https://i.postimg.cc/Pxp2CH4F/DSC-2607.jpg',
                'https://i.postimg.cc/DZ95sNpf/DSC-2608.jpg',
                'https://i.postimg.cc/9FjJQvqJ/DSC-2609.jpg',
                'https://i.postimg.cc/XYjLwdL5/DSC-2610.jpg',
                'https://i.postimg.cc/hPbMzpLg/DSC-2611.jpg',
                'https://i.postimg.cc/v8n0MQD4/DSC-2614.jpg',
                'https://i.postimg.cc/Dwxg50pM/DSC-2615.jpg',
                'https://i.postimg.cc/HLjtNmfs/DSC-2616.jpg',
                'https://i.postimg.cc/KYV5SV27/DSC-2617.jpg',
                'https://i.postimg.cc/9M7YWpm6/DSC-2618.jpg',
                'https://i.postimg.cc/D03dmXm8/DSC-2619.jpg',
                'https://i.postimg.cc/T1jjb3WQ/DSC-2620.jpg',
                'https://i.postimg.cc/KvNrv4b8/DSC-2621.jpg',
                'https://i.postimg.cc/kMWvzfh8/DSC-2622.jpg',
                'https://i.postimg.cc/5N1SVLZr/DSC-2623.jpg',
                'https://i.postimg.cc/JzYNZgGw/DSC-2624.jpg',
                'https://i.postimg.cc/wBthVVm1/DSC-2625.jpg',
                'https://i.postimg.cc/3Rm2Mx97/DSC-2626.jpg',
                'https://i.postimg.cc/prB8Tcg6/DSC-2627.jpg',
                'https://i.postimg.cc/D0hL73YG/DSC-2628.jpg',
                'https://i.postimg.cc/2jdn23V7/DSC-2629.jpg',
                'https://i.postimg.cc/KvZBVFTS/DSC-2630.jpg',
                'https://i.postimg.cc/sDw7C8PB/DSC-2631.jpg',
                'https://i.postimg.cc/Z5n3bcjw/DSC-2632.jpg',
                'https://i.postimg.cc/7ZRzf2Ww/DSC-2633.jpg',
                'https://i.postimg.cc/fb09XRGX/DSC-2636.jpg',
                'https://i.postimg.cc/XJSyg0WP/DSC-2637.jpg',
                'https://i.postimg.cc/V6q0GHLk/DSC-2638.jpg',
                'https://i.postimg.cc/90cRvtrt/DSC-2639.jpg',
                'https://i.postimg.cc/C5JBYB8y/DSC-2640.jpg',
                'https://i.postimg.cc/ry9t5bPh/DSC-2641.jpg',
                'https://i.postimg.cc/8PPf448T/DSC-2642.jpg',
                'https://i.postimg.cc/m2Xz59RC/DSC-2643.jpg',
                'https://i.postimg.cc/QdF9GMxP/DSC-2644.jpg',
                'https://i.postimg.cc/XYtZV0rv/DSC-2647.jpg',
                'https://i.postimg.cc/d0dh3SCj/DSC-2648.jpg',
                'https://i.postimg.cc/Wzpz9NH5/DSC-2649.jpg',
                'https://i.postimg.cc/tTjYxttQ/DSC-2650.jpg',
                'https://i.postimg.cc/G2x9J8qB/DSC-2651.jpg',
                'https://i.postimg.cc/2yH6gppr/DSC-2652.jpg',
                'https://i.postimg.cc/Df58SGSH/DSC-2653.jpg',
                'https://i.postimg.cc/MKTXVGRT/DSC-2654.jpg',
                'https://i.postimg.cc/DyM0gKdc/DSC-2655.jpg',
                'https://i.postimg.cc/6QsQkLP2/DSC-2656.jpg',
                'https://i.postimg.cc/3NwrXLk6/DSC-2657.jpg',
                'https://i.postimg.cc/k4sXtrgK/DSC-2658.jpg',
                'https://i.postimg.cc/d3Ss48d0/DSC-2659.jpg',
                'https://i.postimg.cc/y6f81z5z/DSC-2661.jpg',
                'https://i.postimg.cc/pXpXy6b5/DSC-2662.jpg',
                'https://i.postimg.cc/fRdzfSbw/DSC-2663.jpg',
                'https://i.postimg.cc/sDqfW4s6/DSC-2664.jpg',
                'https://i.postimg.cc/TPXR72yn/DSC-2665.jpg',
                'https://i.postimg.cc/KYrmdXLw/DSC-2666.jpg',
                'https://i.postimg.cc/63WBKHf3/DSC-2667.jpg',
                'https://i.postimg.cc/76KwZgKN/DSC-2668.jpg',
                'https://i.postimg.cc/8c3GhTQJ/DSC-2669.jpg',
                'https://i.postimg.cc/PJNhpPcn/DSC-2672.jpg',
                'https://i.postimg.cc/nVwn8GjF/DSC-2673.jpg',
                'https://i.postimg.cc/HsqHnW9F/DSC-2674.jpg',
                'https://i.postimg.cc/xTJn9NMK/DSC-2675.jpg',
                'https://i.postimg.cc/4xpG9C8y/DSC-2676.jpg',
                'https://i.postimg.cc/Pqhjb6c4/DSC-2677.jpg',
                'https://i.postimg.cc/R0Rzg7xz/DSC-2678.jpg',
                'https://i.postimg.cc/pLMbxG2H/DSC-2684.jpg',
                'https://i.postimg.cc/k44LwLyx/DSC-2685.jpg',
                'https://i.postimg.cc/jjvGHRyx/DSC-2686.jpg',
                'https://i.postimg.cc/wTm8C8Y2/DSC-2687.jpg',
                'https://i.postimg.cc/zXKDnRvq/DSC-2688.jpg',
                'https://i.postimg.cc/c1V4gcsD/DSC-2690.jpg',
                'https://i.postimg.cc/T3xdQY5g/DSC-2691.jpg',
                'https://i.postimg.cc/6ph9PJCS/DSC-2692.jpg',
                'https://i.postimg.cc/6Q59Jj0Q/DSC-2694.jpg',
                'https://i.postimg.cc/LsCmHtC3/DSC-2695.jpg',
                'https://i.postimg.cc/MTgxBW8c/DSC-2696.jpg',
                'https://i.postimg.cc/C1RSdR9T/DSC-2697.jpg',
                'https://i.postimg.cc/zvWNS9Jx/DSC-2699.jpg',
                'https://i.postimg.cc/Y2mtHm1Q/DSC-2700.jpg',
                'https://i.postimg.cc/PrsTrr49/DSC-2703.jpg',
                'https://i.postimg.cc/zXC5LZ2B/DSC-2704.jpg',
                'https://i.postimg.cc/nhnxBRN1/DSC-2705.jpg',
                'https://i.postimg.cc/fR5NK7NQ/DSC-2706.jpg',
                'https://i.postimg.cc/tgMH0XJr/DSC-2707.jpg',
                'https://i.postimg.cc/Bv6Gw8SL/DSC-2708.jpg',
                'https://i.postimg.cc/d1ZcwzTJ/DSC-2709.jpg',
                'https://i.postimg.cc/QCpLW1bP/DSC-2713.jpg',
                'https://i.postimg.cc/NfcvvCGw/DSC-2714.jpg',
                'https://i.postimg.cc/G3YnNnCQ/DSC-2715.jpg',
                'https://i.postimg.cc/W1pRhDJW/DSC-2716.jpg',
                'https://i.postimg.cc/Hs9DY0j8/DSC-2717.jpg',
                'https://i.postimg.cc/bvdK9Kg1/DSC-2719.jpg',
                'https://i.postimg.cc/ht2kxSLS/DSC-2720.jpg',
                'https://i.postimg.cc/MG4gPd3N/DSC-2721.jpg',
                'https://i.postimg.cc/ZRd21p1R/DSC-2725.jpg',
                'https://i.postimg.cc/wxDn25X4/DSC-2726.jpg',
                'https://i.postimg.cc/J4mv2yKr/DSC-2727.jpg',
                'https://i.postimg.cc/y8857ww2/DSC-2728.jpg',
                'https://i.postimg.cc/Yq3ZKpy1/DSC-2730.jpg',
                'https://i.postimg.cc/W1Yyz5Vz/DSC-2731.jpg',
                'https://i.postimg.cc/QMByTcNb/DSC-2732.jpg',
                'https://i.postimg.cc/KYdsr4Ry/DSC-2737.jpg',
                'https://i.postimg.cc/V6nZ71C0/DSC-2742.jpg',
                'https://i.postimg.cc/8cGK93RK/DSC-2743.jpg',
                'https://i.postimg.cc/3NZSTB9K/DSC-2744.jpg',
                'https://i.postimg.cc/7P1Q0H4p/DSC-2748.jpg',
                'https://i.postimg.cc/65YjbMyc/DSC-2750.jpg',
                'https://i.postimg.cc/GhcgjWh9/DSC-2751.jpg',
                'https://i.postimg.cc/2SyHsnWD/DSC-2756.jpg',
                'https://i.postimg.cc/SxPZkjLz/DSC-2763.jpg',
                'https://i.postimg.cc/YSmd9k8D/DSC-2764.jpg',
                'https://i.postimg.cc/brqg3nP4/DSC-2766.jpg',
                'https://i.postimg.cc/LXtvtTcz/DSC-2767.jpg',
                'https://i.postimg.cc/WzSnK4bz/DSC-2768.jpg',
                'https://i.postimg.cc/Pxs2vcRX/DSC-2770.jpg',
                'https://i.postimg.cc/CM4mdcH0/DSC-2771.jpg',
                'https://i.postimg.cc/tCCD6F2x/DSC-2772.jpg',
                'https://i.postimg.cc/nhN1NgZ4/DSC-2773.jpg',
                'https://i.postimg.cc/cLvm90q1/DSC-2774.jpg',
                'https://i.postimg.cc/4NLPQnSF/DSC-2775.jpg',
                'https://i.postimg.cc/x8sv5Ftb/DSC-2776.jpg',
                'https://i.postimg.cc/1tQr3F84/DSC-2779.jpg',
                'https://i.postimg.cc/d3QR8KmY/DSC-2780.jpg',
                'https://i.postimg.cc/DZPdJzG6/DSC-2782.jpg',
                'https://i.postimg.cc/nVTGnCpc/DSC-2783.jpg',
                'https://i.postimg.cc/15j0N28k/DSC-2784.jpg',
                'https://i.postimg.cc/RZJ71dfN/DSC-2786.jpg',
                'https://i.postimg.cc/nczYrphK/DSC-2788.jpg',
                'https://i.postimg.cc/QMLpf7kS/DSC-2789.jpg',
                'https://i.postimg.cc/0Np7FNVv/DSC-2790.jpg',
                'https://i.postimg.cc/xCnL2SZz/DSC-2793.jpg',
                'https://i.postimg.cc/9MbZXn3N/DSC-2794.jpg',
                'https://i.postimg.cc/gj0RxHmc/DSC-2795.jpg',
                'https://i.postimg.cc/MHrBVfp7/DSC-2796.jpg',
                'https://i.postimg.cc/YCFFL9KF/DSC-2798.jpg',
                'https://i.postimg.cc/KzG3WDK7/DSC-2799.jpg',
                'https://i.postimg.cc/HsVXHz6B/DSC-2800.jpg',
                'https://i.postimg.cc/xjsMWh3X/DSC-2803.jpg',
                'https://i.postimg.cc/MHXM6Zmv/DSC-2804.jpg',
                'https://i.postimg.cc/zBxHYHWs/DSC-2807.jpg',
                'https://i.postimg.cc/Gp7TZsvZ/DSC-2812.jpg',
                'https://i.postimg.cc/DftLvsRh/DSC-2813.jpg',
                'https://i.postimg.cc/Zn39B7XS/DSC-2814.jpg',
                'https://i.postimg.cc/BQTLJzx5/DSC-2815.jpg',
                'https://i.postimg.cc/k54BFXLw/DSC-2816.jpg',
                'https://i.postimg.cc/X7bq1gTr/DSC-2817.jpg',
                'https://i.postimg.cc/bvWNx0xN/DSC-2818.jpg',
                'https://i.postimg.cc/nrZx23CZ/DSC-2819.jpg',
                'https://i.postimg.cc/DZ1F19fB/DSC-2820.jpg',
                'https://i.postimg.cc/wMVpGDmN/DSC-2821.jpg',
                'https://i.postimg.cc/MZbqHJFG/DSC-2822.jpg',
                'https://i.postimg.cc/Qx8sWY2J/DSC-2823.jpg',
                'https://i.postimg.cc/5NsJ5q1d/DSC-2824.jpg',
                'https://i.postimg.cc/fRkN8tT3/DSC-2825.jpg',
                'https://i.postimg.cc/3wvHHsGY/DSC-2826.jpg',
                'https://i.postimg.cc/JzgWvrGp/DSC-2827.jpg',
                'https://i.postimg.cc/tTGGRBdP/DSC-2828.jpg',
                'https://i.postimg.cc/26dR1nTt/DSC-2829.jpg',
                'https://i.postimg.cc/7hxv0bWZ/DSC-2830.jpg',
                'https://i.postimg.cc/PJKg4hgz/DSC-2831.jpg',
                'https://i.postimg.cc/ZYczZFWB/DSC-2832.jpg',
                'https://i.postimg.cc/RVprJSQv/DSC-2833.jpg',
                'https://i.postimg.cc/bJh4fs89/DSC-2834.jpg',
                'https://i.postimg.cc/VkJxjxDn/DSC-2835.jpg',
                'https://i.postimg.cc/43tj0zC3/DSC-2836.jpg',
                'https://i.postimg.cc/TwJFdf3M/DSC-2837.jpg',
                'https://i.postimg.cc/C5MtdXRZ/DSC-2838.jpg',
                'https://i.postimg.cc/Vs4p2fhX/DSC-2839.jpg',
                'https://i.postimg.cc/qqmFKwK1/DSC-2840.jpg',
                'https://i.postimg.cc/ZKR2mkk2/DSC-2841.jpg',
                'https://i.postimg.cc/2SLtq4Sx/DSC-2842.jpg',
                'https://i.postimg.cc/02B32tPQ/DSC-2843.jpg',
                'https://i.postimg.cc/jjVFyLWY/DSC-2844.jpg',
                'https://i.postimg.cc/wBhb2gJy/DSC-2845.jpg',
                'https://i.postimg.cc/MTq3rNbs/DSC-2846.jpg'
            ],
            "Game 2": [],
            "Game 3": [],
            "Team": [],
            "Warm ups": []
        };

        let currentImageUrls = []; // This will hold the URLs for the currently active sub-gallery
        let currentImageIndex = 0; // Tracks the currently displayed image in the modal

        // Get DOM elements
        const mainTitle = document.getElementById('mainTitle');
        const galleryDiv = document.getElementById('gallery');
        const imageModal = document.getElementById('imageModal');
        const modalImage = document.getElementById('modalImage');
        const closeModalBtn = document.getElementById('closeModal');
        const loadingSpinner = document.getElementById('loadingSpinner');
        const clickToSourceText = document.getElementById('clickToSourceText');
        const navButtons = document.querySelectorAll('.nav-button');

        /**
         * Populates the gallery with thumbnail images for the given sub-gallery data.
         * @param {string} subGalleryName - The name of the sub-gallery to load.
         */
        function loadSubGallery(subGalleryName) {
            console.log(`Loading sub-gallery: ${subGalleryName}`); // Debugging: Confirm sub-gallery load
            // Update the main title to reflect the current sub-gallery
            mainTitle.textContent = `Lexington Black Widows vs Knoxville Minx (09-06-2025) - ${subGalleryName}`;

            // Clear existing images
            galleryDiv.innerHTML = '';
            
            // Set the current image URLs to the selected sub-gallery's data
            currentImageUrls = galleries[subGalleryName];

            // If no images found for the selected sub-gallery
            if (!currentImageUrls || currentImageUrls.length === 0) {
                galleryDiv.innerHTML = '<p class="text-center text-gray-500 text-lg col-span-full">No images found for this gallery.</p>';
                return;
            }

            // Populate the gallery grid
            currentImageUrls.forEach((url, index) => {
                const imgContainer = document.createElement('div');
                imgContainer.className = 'relative group rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-all duration-300';

                const img = document.createElement('img');
                img.src = url;
                img.alt = `${subGalleryName} Image ${index + 1}`; // Dynamic alt text
                img.className = 'w-full h-48 object-cover gallery-image transform group-hover:scale-105 rounded-lg';
                img.loading = 'lazy'; // Lazy load images
                img.onerror = function() {
                    this.src = 'https://placehold.co/400x300/cccccc/333333?text=Image+Error';
                    this.alt = 'Image failed to load';
                    console.error(`Error loading image: ${url}`); // Debugging: Image load error
                };

                const overlay = document.createElement('div');
                overlay.className = 'absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center';
                const viewIcon = document.createElement('i');
                viewIcon.className = 'fas fa-eye text-white text-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-300';
                overlay.appendChild(viewIcon);

                imgContainer.appendChild(img);
                imgContainer.appendChild(overlay);
                imgContainer.addEventListener('click', () => openModal(index));
                galleryDiv.appendChild(imgContainer);
            });

            // Update active button styling
            navButtons.forEach(button => {
                if (button.dataset.gallery === subGalleryName) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            });
        }

        /**
         * Opens the image modal and displays the image at the given index from currentImageUrls.
         * @param {number} index - The index of the image to display.
         */
        function openModal(index) {
            console.log('Opening modal...'); // Debugging: Modal open attempt
            currentImageIndex = index;
            
            loadingSpinner.classList.remove('hidden');
            modalImage.classList.add('hidden');
            clickToSourceText.classList.add('hidden', 'opacity-0');

            // Reset src before setting new one for robustness
            modalImage.src = ''; 

            // Use a small timeout to ensure browser re-evaluates image load
            setTimeout(() => {
                modalImage.src = currentImageUrls[currentImageIndex]; 
                modalImage.onerror = function() {
                    this.src = 'https://placehold.co/800x600/cccccc/333333?text=Image+Error';
                    this.alt = 'Image failed to load';
                    loadingSpinner.classList.add('hidden');
                    modalImage.classList.remove('hidden');
                    console.error(`Error loading modal image: ${currentImageUrls[currentImageIndex]}`); // Debugging: Modal image error
                };

                modalImage.onload = function() {
                    loadingSpinner.classList.add('hidden');
                    modalImage.classList.remove('hidden');
                    setTimeout(() => {
                        clickToSourceText.classList.remove('hidden');
                        setTimeout(() => clickToSourceText.classList.remove('opacity-0'), 10);
                    }, 200);
                    console.log('Modal image loaded.'); // Debugging: Modal image loaded
                };
            }, 50); // Small delay before setting new image source

            imageModal.classList.remove('hidden');
            setTimeout(() => {
                imageModal.classList.remove('opacity-0');
                console.log('Modal display state after opening:', window.getComputedStyle(imageModal).display, window.getComputedStyle(imageModal).opacity);
            }, 10);
            document.body.style.overflow = 'hidden'; // Prevent scrolling background
        }

        /**
         * Closes the image modal.
         */
        function closeModal() {
            console.log('Attempting to close modal...'); // Debugging: Close modal attempt
            imageModal.classList.add('opacity-0');
            // Hide after transition
            setTimeout(() => {
                imageModal.classList.add('hidden');
                console.log('Modal display state after hiding:', window.getComputedStyle(imageModal).display, window.getComputedStyle(imageModal).opacity);
                modalImage.src = ''; // Reset image src to prevent flickering on next open
                document.body.style.overflow = ''; // Restore scrolling
                console.log('Modal hidden and scrolling restored.'); // Debugging: Modal closed
            }, 300);
        }

        /**
         * Displays the next image in the modal using currentImageUrls.
         */
        function showNextImage() {
            console.log('Showing next image...'); // Debugging: Next image
            currentImageIndex = (currentImageIndex + 1) % currentImageUrls.length;
            openModal(currentImageIndex);
        }

        /**
         * Displays the previous image in the modal using currentImageUrls.
         */
        function showPrevImage() {
            console.log('Showing previous image...'); // Debugging: Previous image
            currentImageIndex = (currentImageIndex - 1 + currentImageUrls.length) % currentImageUrls.length;
            openModal(currentImageIndex);
        }

        // Event Listeners for modal
        closeModalBtn.addEventListener('click', () => {
            console.log('Close button clicked!'); // Debugging: Close button click
            closeModal();
        });

        // Add a click listener to the modal background to close it
        imageModal.addEventListener('click', (e) => {
            // Only close if the click was directly on the modal background, not on the image or close button
            if (e.target === imageModal) { 
                console.log('Modal background clicked.');
                closeModal();
            }
        });

        // This section opens the Postimg.cc page for the image
        modalImage.addEventListener('click', (e) => {
            e.stopPropagation(); // Stop event from bubbling up to the modal background
            if (modalImage.src && !modalImage.classList.contains('hidden')) {
                console.log('Modal image clicked.'); // Debugging: Click detected

                // Extract the unique image ID from the direct link (e.g., s2GRRZTG from https://i.postimg.cc/s2GRRZTG/DSC-0042.jpg)
                const parts = modalImage.src.split('/');
                // The image ID is typically the second-to-last part before the filename
                const imageId = parts[parts.length - 2]; 

                if (imageId && imageId.length > 0) {
                    // Construct the Postimg.cc page URL
                    const postimgPageUrl = `https://postimg.cc/${imageId}`;
                    console.log('Opening Postimg.cc page:', postimgPageUrl); // Debugging: Page link
                    window.open(postimgPageUrl, '_blank');
                } else {
                    console.error('Could not extract image ID from URL:', modalImage.src);
                    // Fallback to opening the direct link if ID extraction fails (though this is less ideal for original access)
                    window.open(modalImage.src, '_blank');
                }
            }
        });


        document.addEventListener('keydown', (e) => {
            if (!imageModal.classList.contains('hidden')) {
                console.log('Key pressed in modal:', e.key); // Debugging: Key press
                if (e.key === 'ArrowRight') {
                    showNextImage();
                } else if (e.key === 'ArrowLeft') {
                    showPrevImage();
                } else if (e.key === 'Escape') {
                    closeModal();
                }
            }
        });

        // Touch event listeners for swiping on the modal image
        let touchStartX = 0;
        let touchEndX = 0;

        modalImage.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
            console.log('Touch start:', touchStartX); // Debugging: Touch start
        });

        modalImage.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].clientX;
            console.log('Touch end:', touchEndX); // Debugging: Touch end
            const swipeThreshold = 50;
            if (touchEndX < touchStartX - swipeThreshold) {
                console.log('Swipe left detected.'); // Debugging: Swipe left
                showNextImage();
            } else if (touchEndX > touchStartX + swipeThreshold) {
                console.log('Swipe right detected.'); // Debugging: Swipe right
                showPrevImage();
            }
        });

        // Initialize the gallery on page load
        document.addEventListener('DOMContentLoaded', () => {
            // Add click listeners to navigation buttons
            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const galleryName = button.dataset.gallery;
                    loadSubGallery(galleryName); // Call loadSubGallery for internal navigation
                });
            });

            // Load the first sub-gallery by default when the page loads
            loadSubGallery("Game 1"); 
        });
    </script>
</body>
</html>
